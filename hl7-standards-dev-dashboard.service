[Unit]
Description=HL7 Standards Development Dashboard
After=network.target
Wants=network.target

[Service]
Type=simple
User=ubuntu
Group=ubuntu
WorkingDirectory=/home/ubuntu/code/hl7-standards-dev-dashboard
Environment=PATH=/home/ubuntu/.venv/bin:/usr/local/bin:/usr/bin:/bin
ExecStart=/home/ubuntu/.venv/bin/python3 /home/ubuntu/code/hl7-standards-dev-dashboard/run.py
Restart=always
RestartSec=10
StandardOutput=append:/var/log/hl7-standards-dev-dashboard/app.log
StandardError=append:/var/log/hl7-standards-dev-dashboard/error.log
SyslogIdentifier=hl7-dashboard

# Security settings
NoNewPrivileges=true
PrivateTmp=true
ProtectSystem=strict
ProtectHome=true
ReadWritePaths=/var/log/hl7-standards-dev-dashboard /home/ubuntu/code/hl7-standards-dev-dashboard

[Install]
WantedBy=multi-user.target
